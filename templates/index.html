{% extends 'base.html' %}

{% block content %}
<!-- side navbar -->
<div class="col-sm-2 sidenav">
    <p><a href="#">Room 1</a></p>
    <p><a href="#">Room 2</a></p>
    <p><a href="#">Room 3</a></p>
</div>
<div class="col-sm-8 text-left">
    <!-- libraries for charts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
    <!-- chart html elements -->
    <canvas id="voltageChart" class="h-25 d-inline-block"></canvas>
    <canvas id="decibelChart" class="h-25 d-inline-block"></canvas>
    <!-- chartJS -->
    <script>
        //raw data chart
        var ctx=document.getElementById("voltageChart").getContext('2d');
        var data={
            //x axis labels
            labels: [new Date(moment().subtract(30, 'days')).toLocaleString(),new Date(moment()).toLocaleString()],
                datasets:[
                    {
                        fill: false,
                        lineTension: 0.2,
                        borderColor: "rgba(75,192,192,1)",
                        pointBorderColor:"rgba(75,192,192,1)",
                        pointBackgroundColor:"#fff",
                        pointBorderWidth: 1,
                        pointHoverBackgroundColor:"rgba(75,192,192,1)",
                        pointHoverBorderColor:"rgba(220,220,220,1)",
                        pointHoverBorderWidth:2,
                        pointRadius:1,
                        pointHitRadius:10,
                        //yAxis data points
                        data:[0,0.2],
                    }
                ]
        }
        var myChart=new Chart(ctx,{
            type: 'line',
            data: data,
            options:{
                title:{
                    display:true,
                    text:'Raw Noise Data'
                },
                legend:{
                    display:false
                }
            }
        });
        //decibel chart
        var ctx2=document.getElementById("decibelChart").getContext('2d');
        var data2={
            //x axis labels
            labels: [new Date(moment().subtract(30, 'days')).toLocaleString(),new Date(moment()).toLocaleString()],
                datasets:[
                    {
                        fill: false,
                        lineTension: 0.2,
                        borderColor: "rgba(75,192,192,1)",
                        pointBorderColor:"rgba(75,192,192,1)",
                        pointBackgroundColor:"#fff",
                        pointBorderWidth: 1,
                        pointHoverBackgroundColor:"rgba(75,192,192,1)",
                        pointHoverBorderColor:"rgba(220,220,220,1)",
                        pointHoverBorderWidth:2,
                        pointRadius:1,
                        pointHitRadius:10,
                        //yAxis data points
                        data:[0,60],
                    }
                ]
        }
        var myChart2=new Chart(ctx2,{
            type: 'line',
            data: data2,
            options:{
                title:{
                    display:true,
                    text:'Decibels'
                },
                legend:{
                    display:false
                }
            }
        });
    </script> 
    <iframe style="background: #21313C;border: none;border-radius: 2px;box-shadow: 0 2px 10px 0 rgba(70, 76, 79, .2);" width="640" height="480" src="https://charts.mongodb.com/charts-capstone-pqjog/embed/charts?id=36fee74f-612a-4cbd-a665-c540548e35bb&autorefresh=86400&theme=dark"></iframe>
</div>
{% endblock%}